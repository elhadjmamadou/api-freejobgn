openapi: 3.0.3
info:
  title: FreeJobGN API
  version: 1.0.0
  description: "\n## API REST pour la plateforme FreeJobGN\n\n### Authentification\n\nCette
    API utilise JWT (JSON Web Tokens) pour l'authentification.\n\n**Workflow:**\n1.
    **Inscription** (`POST /api/auth/register/`) - Crée un compte inactif\n2. **Activation**
    (`POST /api/auth/activate/`) - Active le compte via le lien email\n3. **Connexion**
    (`POST /api/auth/login/`) - Obtient un access token\n4. **Accès API** - Utiliser
    `Authorization: Bearer <access_token>`\n5. **Refresh** (`POST /api/auth/token/refresh/`)
    - Renouvelle l'access token\n\n**Note:** Le refresh token est stocké dans un cookie
    HttpOnly pour la sécurité.\n    "
paths:
  /api/auth/activate/:
    post:
      operationId: auth_activate_create
      description: Active le compte utilisateur avec le token reçu par email.
      summary: Activation du compte
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ActivationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ActivationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ActivationRequest'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ActivationResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/login/:
    post:
      operationId: auth_login_create
      description: Authentifie l'utilisateur et retourne les tokens JWT.
      summary: Connexion
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LoginRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/logout/:
    post:
      operationId: auth_logout_create
      description: Déconnecte l'utilisateur et supprime le refresh token.
      summary: Déconnexion
      tags:
      - Authentication
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogoutResponse'
          description: ''
  /api/auth/me/:
    get:
      operationId: auth_me_retrieve
      description: Retourne les informations de l'utilisateur authentifié.
      summary: Utilisateur courant
      tags:
      - Authentication
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserMe'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/public/stats/:
    get:
      operationId: auth_public_stats_retrieve
      description: Retourne des statistiques publiques sur les utilisateurs. Endpoint
        public sans authentification.
      summary: Statistiques publiques
      tags:
      - Public Metadata
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicStats'
          description: ''
  /api/auth/register/:
    post:
      operationId: auth_register_create
      description: Crée un nouveau compte utilisateur. Un email d'activation est envoyé.
      summary: Inscription utilisateur
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegisterResponse'
          description: ''
        '400':
          description: Erreur de validation
  /api/auth/register/options/:
    get:
      operationId: auth_register_options_retrieve
      description: 'Retourne les options disponibles pour l''inscription: rôles, types
        de prestataire, et règles de validation. Endpoint public sans authentification.'
      summary: Options d'inscription
      tags:
      - Public Metadata
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegistrationOptions'
              examples:
                ExempleDeRéponse:
                  value:
                    roles:
                    - value: CLIENT
                      label: Client
                    - value: PROVIDER
                      label: Prestataire
                    provider_kinds:
                    - value: FREELANCE
                      label: Freelance
                    - value: AGENCY
                      label: Agence
                    rules:
                      provider_kind_required_if_role: PROVIDER
                      provider_kind_forbidden_if_role: CLIENT
                  summary: Options d'inscription complètes
                  description: Retourne les rôles, types de prestataire et règles
                    de validation.
          description: Options d'inscription récupérées avec succès.
  /api/auth/resend-activation/:
    post:
      operationId: auth_resend_activation_create
      description: Renvoie l'email d'activation si le compte existe et n'est pas activé.
      summary: Renvoyer l'email d'activation
      tags:
      - Authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResendActivationRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ResendActivationRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ResendActivationRequest'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResendActivationResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: Génère un nouveau access token à partir du refresh token (cookie).
      summary: Rafraîchir le token
      tags:
      - Authentication
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefreshResponse'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: ''
  /api/client/profile/:
    get:
      operationId: client_profile_retrieve
      description: Retourne le profil client de l'utilisateur connecté. Si le profil
        n'existe pas encore, retourne client_profile=null.
      summary: Lire le profil client
      tags:
      - Client Profile
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileRead'
              examples:
                ProfilParticulierExistant:
                  value:
                    user:
                      id: 1
                      email: client@example.com
                      username: johndoe
                      role: CLIENT
                    client_profile:
                      id: 1
                      client_type: INDIVIDUAL
                      city_or_region: Conakry
                      country: Guinée
                      postal_code: ''
                      phone: +224 123 456 789
                      profile_picture: null
                      details:
                        first_name: John
                        last_name: Doe
                      created_at: '2026-02-01T10:00:00+00:00'
                      updated_at: '2026-02-01T10:00:00+00:00'
                  summary: Profil particulier existant
                ProfilNonCréé:
                  value:
                    user:
                      id: 1
                      email: client@example.com
                      username: johndoe
                      role: CLIENT
                    client_profile: null
                  summary: Profil non créé
          description: Profil client récupéré avec succès.
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Non authentifié.
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Rôle incorrect (pas CLIENT).
    post:
      operationId: client_profile_create
      description: Crée le profil client de l'utilisateur connecté. Le client_type
        (INDIVIDUAL ou COMPANY) est immutable après création. Les champs requis dépendent
        du type choisi.
      summary: Créer le profil client
      tags:
      - Client Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientProfileCreateRequest'
            examples:
              CréationParticulier:
                value:
                  client_type: INDIVIDUAL
                  city_or_region: Conakry
                  country: Guinée
                  first_name: John
                  last_name: Doe
                summary: Création particulier
              CréationEntreprise:
                value:
                  client_type: COMPANY
                  city_or_region: Conakry
                  country: Guinée
                  postal_code: BP 100
                  phone: +224 999 888 777
                  company_name: Ma Super Entreprise
                summary: Création entreprise
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ClientProfileCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ClientProfileCreateRequest'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileRead'
              examples:
                CréationParticulier:
                  value:
                    user:
                      id: 1
                      email: client@example.com
                      username: johndoe
                      role: CLIENT
                    client_profile:
                      id: 1
                      client_type: INDIVIDUAL
                      city_or_region: Conakry
                      country: Guinée
                      postal_code: ''
                      phone: ''
                      profile_picture: null
                      details:
                        first_name: John
                        last_name: Doe
                      created_at: '2026-02-01T10:00:00+00:00'
                      updated_at: '2026-02-01T10:00:00+00:00'
                  summary: Création particulier
                CréationEntreprise:
                  value:
                    user:
                      id: 1
                      email: company@example.com
                      username: mycompany
                      role: CLIENT
                    client_profile:
                      id: 2
                      client_type: COMPANY
                      city_or_region: Conakry
                      country: Guinée
                      postal_code: BP 100
                      phone: +224 999 888 777
                      profile_picture: null
                      details:
                        company_name: Ma Super Entreprise
                      created_at: '2026-02-01T10:00:00+00:00'
                      updated_at: '2026-02-01T10:00:00+00:00'
                  summary: Création entreprise
          description: Profil client créé avec succès.
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
          description: Erreur de validation.
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Non authentifié.
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Rôle incorrect (pas CLIENT).
        '409':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
              examples:
                ProfilExisteDéjà:
                  value:
                    code: profile_exists
                    detail: Un profil client existe déjà pour cet utilisateur.
                  summary: Profil existe déjà
          description: Profil déjà existant.
    patch:
      operationId: client_profile_partial_update
      description: Met à jour partiellement le profil client existant. Le client_type
        ne peut PAS être modifié.
      summary: Mettre à jour le profil client
      tags:
      - Client Profile
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedClientProfileUpdateRequest'
            examples:
              MiseÀJourParticulier:
                value:
                  city_or_region: Kindia
                  first_name: Johnny
                summary: Mise à jour particulier
              MiseÀJourEntreprise:
                value:
                  phone: +224 111 222 333
                  company_name: Nouvelle Raison Sociale
                summary: Mise à jour entreprise
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedClientProfileUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedClientProfileUpdateRequest'
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileRead'
          description: Profil client mis à jour avec succès.
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
              examples:
                ClientTypeImmutable:
                  value:
                    client_type:
                      code: client_type_immutable
                      detail: Le type de client ne peut pas être modifié après création.
                  summary: client_type immutable
          description: 'Erreur de validation (ex: tentative de modifier client_type).'
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Non authentifié.
        '403':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
          description: Rôle incorrect (pas CLIENT).
        '409':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientProfileError'
              examples:
                ProfilNonExistant:
                  value:
                    code: profile_not_created
                    detail: Aucun profil client n'existe. Utilisez POST pour créer.
                  summary: Profil non existant
          description: Profil non créé.
  /api/token/:
    post:
      operationId: token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPairRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPairRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPairRequest'
        required: true
      security:
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
  /api/token/refresh/:
    post:
      operationId: token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefreshRequest'
        required: true
      security:
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/token/verify/:
    post:
      operationId: token_verify_create
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenVerifyRequest'
        required: true
      security:
      - BearerAuth: []
      responses:
        '200':
          description: No response body
components:
  schemas:
    ActivationRequest:
      type: object
      description: Serializer pour l'activation du compte.
      properties:
        uid:
          type: string
          minLength: 1
          description: Identifiant utilisateur encodé en base64
        token:
          type: string
          minLength: 1
          description: Token d'activation signé
      required:
      - token
      - uid
    ActivationResponse:
      type: object
      description: Serializer pour la réponse d'activation.
      properties:
        message:
          type: string
      required:
      - message
    BlankEnum:
      enum:
      - ''
    ChoiceItem:
      type: object
      description: Représente un choix (value + label).
      properties:
        value:
          type: string
          description: Valeur technique
        label:
          type: string
          description: Libellé affiché
      required:
      - label
      - value
    ClientProfileCreateRequest:
      type: object
      description: |-
        Serializer pour la création du profil client.
        Crée ClientProfile + Details selon client_type.
      properties:
        client_type:
          allOf:
          - $ref: '#/components/schemas/ClientTypeEnum'
          description: |-
            Type de client: INDIVIDUAL ou COMPANY

            * `INDIVIDUAL` - Particulier
            * `COMPANY` - Entreprise
        city_or_region:
          type: string
          minLength: 1
          description: Ville ou région
          maxLength: 120
        country:
          type: string
          minLength: 1
          description: Pays
          maxLength: 120
        postal_code:
          type: string
          default: ''
          description: Code postal (optionnel)
          maxLength: 20
        phone:
          type: string
          default: ''
          description: Téléphone (optionnel)
          maxLength: 30
        first_name:
          type: string
          minLength: 1
          description: Prénom (requis si client_type=INDIVIDUAL)
          maxLength: 80
        last_name:
          type: string
          minLength: 1
          description: Nom (requis si client_type=INDIVIDUAL)
          maxLength: 80
        company_name:
          type: string
          minLength: 1
          description: Nom de l'entreprise (requis si client_type=COMPANY)
          maxLength: 150
      required:
      - city_or_region
      - client_type
      - country
    ClientProfileError:
      type: object
      description: Serializer pour les erreurs avec code.
      properties:
        code:
          type: string
          description: Code d'erreur machine-readable
        detail:
          type: string
          description: Message d'erreur human-readable
      required:
      - code
      - detail
    ClientProfileRead:
      type: object
      description: |-
        Serializer de lecture pour le profil client complet.
        Structure stable pour le frontend.
      properties:
        user:
          allOf:
          - $ref: '#/components/schemas/ClientUser'
          readOnly: true
        client_profile:
          type: object
          additionalProperties: {}
          nullable: true
          readOnly: true
      required:
      - client_profile
      - user
    ClientTypeEnum:
      enum:
      - INDIVIDUAL
      - COMPANY
      type: string
      description: |-
        * `INDIVIDUAL` - Particulier
        * `COMPANY` - Entreprise
    ClientUser:
      type: object
      description: Informations basiques de l'utilisateur pour le profil client.
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
          title: Adresse e-mail
        username:
          type: string
          readOnly: true
          title: Nom d’utilisateur
          description: Requis. 150 caractères maximum. Uniquement des lettres, nombres
            et les caractères « @ », « . », « + », « - » et « _ ».
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          readOnly: true
      required:
      - email
      - id
      - role
      - username
    ErrorResponse:
      type: object
      description: Serializer générique pour les erreurs.
      properties:
        detail:
          type: string
      required:
      - detail
    LoginRequest:
      type: object
      description: Serializer pour la connexion.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email de l'utilisateur
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Mot de passe
      required:
      - email
      - password
    LoginResponse:
      type: object
      description: Serializer pour la réponse de connexion.
      properties:
        access:
          type: string
          description: JWT Access Token
        user:
          type: object
          additionalProperties: {}
          readOnly: true
      required:
      - access
      - user
    LogoutResponse:
      type: object
      description: Serializer pour la réponse de déconnexion.
      properties:
        message:
          type: string
      required:
      - message
    NullEnum:
      enum:
      - null
    PatchedClientProfileUpdateRequest:
      type: object
      description: |-
        Serializer pour la mise à jour partielle du profil client.
        client_type est immutable.
      properties:
        city_or_region:
          type: string
          minLength: 1
          description: Ville ou région
          maxLength: 120
        country:
          type: string
          minLength: 1
          description: Pays
          maxLength: 120
        postal_code:
          type: string
          description: Code postal
          maxLength: 20
        phone:
          type: string
          description: Téléphone
          maxLength: 30
        first_name:
          type: string
          minLength: 1
          description: Prénom (pour les particuliers)
          maxLength: 80
        last_name:
          type: string
          minLength: 1
          description: Nom (pour les particuliers)
          maxLength: 80
        company_name:
          type: string
          minLength: 1
          description: Nom de l'entreprise (pour les entreprises)
          maxLength: 150
        client_type:
          type: string
          writeOnly: true
          minLength: 1
    ProviderKindEnum:
      enum:
      - FREELANCE
      - AGENCY
      type: string
      description: |-
        * `FREELANCE` - Freelance
        * `AGENCY` - Agence
    PublicStats:
      type: object
      description: Statistiques publiques pour la landing page.
      properties:
        clients_count:
          type: integer
          description: Nombre de clients inscrits
        providers_count:
          type: integer
          description: Nombre de prestataires inscrits
        freelances_count:
          type: integer
          description: Nombre de freelances
        agencies_count:
          type: integer
          description: Nombre d'agences
      required:
      - agencies_count
      - clients_count
      - freelances_count
      - providers_count
    RegisterRequest:
      type: object
      description: Serializer pour l'inscription d'un nouvel utilisateur.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Adresse email unique de l'utilisateur
        username:
          type: string
          minLength: 3
          description: Nom d'utilisateur unique
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 1
          description: Mot de passe (minimum 8 caractères, avec complexité)
        password_confirm:
          type: string
          writeOnly: true
          minLength: 1
          description: Confirmation du mot de passe
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          description: |-
            Rôle: CLIENT ou PROVIDER

            * `CLIENT` - Client
            * `PROVIDER` - Prestataire
        provider_kind:
          nullable: true
          description: |-
            Type de prestataire: FREELANCE ou AGENCY (requis si role=PROVIDER)

            * `FREELANCE` - Freelance
            * `AGENCY` - Agence
          oneOf:
          - $ref: '#/components/schemas/ProviderKindEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
      required:
      - email
      - password
      - password_confirm
      - role
      - username
    RegisterResponse:
      type: object
      description: Serializer pour la réponse d'inscription.
      properties:
        message:
          type: string
        needs_activation:
          type: boolean
        email:
          type: string
          format: email
      required:
      - email
      - message
      - needs_activation
    RegistrationOptions:
      type: object
      description: |-
        Options d'inscription disponibles pour le frontend.
        Permet d'afficher la page "Choisis ton rôle" côté React.
      properties:
        roles:
          type: array
          items:
            $ref: '#/components/schemas/ChoiceItem'
          description: Liste des rôles disponibles
        provider_kinds:
          type: array
          items:
            $ref: '#/components/schemas/ChoiceItem'
          description: Liste des types de prestataire
        rules:
          allOf:
          - $ref: '#/components/schemas/RegistrationRules'
          description: Règles de validation role/provider_kind
      required:
      - provider_kinds
      - roles
      - rules
    RegistrationRules:
      type: object
      description: Règles de validation pour l'inscription.
      properties:
        provider_kind_required_if_role:
          type: string
          description: Role pour lequel provider_kind est requis
        provider_kind_forbidden_if_role:
          type: string
          description: Role pour lequel provider_kind est interdit
      required:
      - provider_kind_forbidden_if_role
      - provider_kind_required_if_role
    ResendActivationRequest:
      type: object
      description: Serializer pour renvoyer l'email d'activation.
      properties:
        email:
          type: string
          format: email
          minLength: 1
          description: Email du compte à activer
      required:
      - email
    ResendActivationResponse:
      type: object
      description: Serializer pour la réponse de renvoi d'activation.
      properties:
        message:
          type: string
      required:
      - message
    RoleEnum:
      enum:
      - CLIENT
      - PROVIDER
      type: string
      description: |-
        * `CLIENT` - Client
        * `PROVIDER` - Prestataire
    TokenObtainPair:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          readOnly: true
      required:
      - access
      - refresh
    TokenObtainPairRequest:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
          minLength: 1
        password:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - password
      - username
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
      required:
      - access
      - refresh
    TokenRefreshRequest:
      type: object
      properties:
        refresh:
          type: string
          minLength: 1
      required:
      - refresh
    TokenRefreshResponse:
      type: object
      description: Serializer pour la réponse de refresh token.
      properties:
        access:
          type: string
          description: Nouveau JWT Access Token
      required:
      - access
    TokenVerifyRequest:
      type: object
      properties:
        token:
          type: string
          writeOnly: true
          minLength: 1
      required:
      - token
    UserMe:
      type: object
      description: Serializer pour les informations de l'utilisateur connecté.
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
          title: Adresse e-mail
        username:
          type: string
          readOnly: true
          title: Nom d’utilisateur
          description: Requis. 150 caractères maximum. Uniquement des lettres, nombres
            et les caractères « @ », « . », « + », « - » et « _ ».
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          readOnly: true
        provider_kind:
          readOnly: true
          nullable: true
          description: |-
            Uniquement si role=PROVIDER

            * `FREELANCE` - Freelance
            * `AGENCY` - Agence
          oneOf:
          - $ref: '#/components/schemas/ProviderKindEnum'
          - $ref: '#/components/schemas/NullEnum'
        is_active:
          type: boolean
          readOnly: true
          title: Actif
          description: Précise si l’utilisateur doit être considéré comme actif. Décochez
            ceci plutôt que de supprimer le compte.
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: Date d’inscription
      required:
      - date_joined
      - email
      - id
      - is_active
      - provider_kind
      - role
      - username
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Token JWT obtenu via POST /api/auth/login/
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
tags:
- name: Authentication
  description: Inscription, connexion, activation
